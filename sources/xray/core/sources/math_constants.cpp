////////////////////////////////////////////////////////////////////////////
//	Created 	: 23.09.2009
//	Author		: Sergey Chechin
//	Copyright (C) GSC Game World - 2009
////////////////////////////////////////////////////////////////////////////

#include "pch.h"

namespace xray {
namespace math {

static float g_sinuses[360] = {
0.0000000000f, 0.0174524058f, 0.0348994955f, 0.0523359589f,
0.0697564706f, 0.0871557444f, 0.1045284644f, 0.1218693480f,
0.1391731054f, 0.1564344764f, 0.1736481935f, 0.1908089966f,
0.2079117000f, 0.2249510586f, 0.2419219017f, 0.2588190436f,
0.2756373584f, 0.2923717201f, 0.3090170026f, 0.3255681396f,
0.3420201540f, 0.3583679497f, 0.3746065795f, 0.3907311559f,
0.4067366421f, 0.4226182699f, 0.4383711815f, 0.4539905190f,
0.4694715738f, 0.4848096073f, 0.5000000000f, 0.5150381327f,
0.5299192667f, 0.5446390510f, 0.5591929555f, 0.5735764503f,
0.5877852440f, 0.6018150449f, 0.6156615019f, 0.6293203831f,
0.6427876353f, 0.6560590267f, 0.6691306233f, 0.6819983721f,
0.6946583986f, 0.7071067691f, 0.7193398476f, 0.7313537002f,
0.7431448698f, 0.7547096014f, 0.7660444379f, 0.7771459818f,
0.7880107760f, 0.7986355424f, 0.8090170026f, 0.8191520572f,
0.8290375471f, 0.8386706114f, 0.8480480909f, 0.8571673036f,
0.8660254478f, 0.8746197224f, 0.8829476237f, 0.8910065293f,
0.8987940550f, 0.9063078165f, 0.9135454893f, 0.9205048680f,
0.9271838665f, 0.9335804582f, 0.9396926165f, 0.9455185533f,
0.9510565400f, 0.9563047886f, 0.9612616897f, 0.9659258127f,
0.9702957273f, 0.9743700624f, 0.9781476259f, 0.9816271663f,
0.9848077893f, 0.9876883626f, 0.9902680516f, 0.9925461411f,
0.9945219159f, 0.9961947203f, 0.9975640774f, 0.9986295104f,
0.9993908405f, 0.9998477101f, 1.0000000000f, 0.9998477101f,
0.9993908405f, 0.9986295104f, 0.9975640774f, 0.9961947203f,
0.9945219159f, 0.9925461411f, 0.9902680516f, 0.9876883626f,
0.9848077297f, 0.9816271663f, 0.9781475663f, 0.9743700624f,
0.9702957273f, 0.9659258127f, 0.9612616897f, 0.9563047290f,
0.9510564804f, 0.9455185533f, 0.9396926165f, 0.9335804582f,
0.9271838665f, 0.9205048680f, 0.9135454297f, 0.9063077569f,
0.8987940550f, 0.8910064697f, 0.8829475641f, 0.8746196032f,
0.8660253882f, 0.8571673036f, 0.8480480313f, 0.8386705518f,
0.8290374875f, 0.8191519976f, 0.8090170026f, 0.7986354828f,
0.7880107760f, 0.7771458626f, 0.7660444379f, 0.7547094822f,
0.7431448102f, 0.7313537002f, 0.7193397284f, 0.7071067691f,
0.6946582794f, 0.6819983125f, 0.6691304445f, 0.6560589671f,
0.6427876353f, 0.6293202639f, 0.6156614423f, 0.6018148661f,
0.5877851844f, 0.5735764503f, 0.5591928363f, 0.5446390510f,
0.5299191475f, 0.5150380135f, 0.5000000596f, 0.4848095477f,
0.4694715738f, 0.4539903700f, 0.4383711219f, 0.4226180911f,
0.4067365825f, 0.3907311559f, 0.3746064901f, 0.3583679199f,
0.3420200050f, 0.3255681098f, 0.3090167940f, 0.2923716009f,
0.2756373584f, 0.2588189244f, 0.2419218570f, 0.2249508798f,
0.2079116106f, 0.1908090115f, 0.1736480594f, 0.1564344466f,
0.1391729414f, 0.1218692809f, 0.1045284942f, 0.0871556401f,
0.0697564706f, 0.0523358099f, 0.0348994508f, 0.0174522195f,
-0.0000000874f, -0.0174523946f, -0.0348996259f, -0.0523359850f,
-0.0697566420f, -0.0871558115f, -0.1045286730f, -0.1218694523f,
-0.1391731054f, -0.1564346105f, -0.1736482233f, -0.1908091903f,
-0.2079117894f, -0.2249510437f, -0.2419220209f, -0.2588190734f,
-0.2756375372f, -0.2923717797f, -0.3090169728f, -0.3255682588f,
-0.3420201540f, -0.3583680987f, -0.3746066391f, -0.3907313049f,
-0.4067367315f, -0.4226182699f, -0.4383712709f, -0.4539905488f,
-0.4694717228f, -0.4848096967f, -0.5000001788f, -0.5150381923f,
-0.5299192667f, -0.5446391702f, -0.5591929555f, -0.5735766292f,
-0.5877853632f, -0.6018150449f, -0.6156615615f, -0.6293204427f,
-0.6427877545f, -0.6560590863f, -0.6691306233f, -0.6819984317f,
-0.6946583986f, -0.7071068883f, -0.7193398476f, -0.7313538194f,
-0.7431448698f, -0.7547096014f, -0.7660445571f, -0.7771459818f,
-0.7880107164f, -0.7986357212f, -0.8090171218f, -0.8191521168f,
-0.8290376067f, -0.8386705518f, -0.8480482697f, -0.8571674228f,
-0.8660254478f, -0.8746197224f, -0.8829475641f, -0.8910066485f,
-0.8987941146f, -0.9063078165f, -0.9135454297f, -0.9205048084f,
-0.9271839857f, -0.9335805178f, -0.9396926761f, -0.9455185533f,
-0.9510564804f, -0.9563048482f, -0.9612617493f, -0.9659258723f,
-0.9702957273f, -0.9743701220f, -0.9781476259f, -0.9816272259f,
-0.9848077893f, -0.9876883030f, -0.9902681112f, -0.9925462008f,
-0.9945219159f, -0.9961947203f, -0.9975640178f, -0.9986295700f,
-0.9993908405f, -0.9998477101f, -1.0000000000f, -0.9998477101f,
-0.9993908405f, -0.9986295104f, -0.9975640178f, -0.9961947203f,
-0.9945218563f, -0.9925461411f, -0.9902680516f, -0.9876883030f,
-0.9848077297f, -0.9816271067f, -0.9781475663f, -0.9743700027f,
-0.9702957273f, -0.9659258127f, -0.9612616301f, -0.9563046694f,
-0.9510564804f, -0.9455185533f, -0.9396926165f, -0.9335803390f,
-0.9271837473f, -0.9205048084f, -0.9135454297f, -0.9063078165f,
-0.8987939358f, -0.8910064101f, -0.8829475641f, -0.8746197224f,
-0.8660254478f, -0.8571671247f, -0.8480479717f, -0.8386704922f,
-0.8290376067f, -0.8191518188f, -0.8090168238f, -0.7986354232f,
-0.7880107164f, -0.7771459818f, -0.7660441995f, -0.7547094226f,
-0.7431447506f, -0.7313536406f, -0.7193398476f, -0.7071065307f,
-0.6946582198f, -0.6819982529f, -0.6691305637f, -0.6560590863f,
-0.6427873969f, -0.6293202043f, -0.6156613827f, -0.6018149853f,
-0.5877849460f, -0.5735762119f, -0.5591927171f, -0.5446389318f,
-0.5299192667f, -0.5150377750f, -0.4999997616f, -0.4848094583f,
-0.4694714844f, -0.4539905190f, -0.4383708239f, -0.4226180315f,
-0.4067364931f, -0.3907310665f, -0.3746066391f, -0.3583676219f,
-0.3420199156f, -0.3255680203f, -0.3090169430f, -0.2923717499f,
-0.2756370306f, -0.2588188350f, -0.2419217676f, -0.2249510288f,
-0.2079117596f, -0.1908086985f, -0.1736479700f, -0.1564343572f,
-0.1391730905f, -0.1218689531f, -0.1045281738f, -0.0871555507f,
-0.0697563812f, -0.0523359627f, -0.0348991230f, -0.0174521320f,
};

static float g_cosinuses[360] = {
1.0000000000f, 0.9998477101f, 0.9993908405f, 0.9986295104f,
0.9975640774f, 0.9961947203f, 0.9945219159f, 0.9925461411f,
0.9902680516f, 0.9876883626f, 0.9848077297f, 0.9816271663f,
0.9781476259f, 0.9743700624f, 0.9702957273f, 0.9659258127f,
0.9612616897f, 0.9563047290f, 0.9510565400f, 0.9455185533f,
0.9396926165f, 0.9335803986f, 0.9271838665f, 0.9205048680f,
0.9135454297f, 0.9063077569f, 0.8987940550f, 0.8910065293f,
0.8829475641f, 0.8746197224f, 0.8660253882f, 0.8571673036f,
0.8480480909f, 0.8386705518f, 0.8290375471f, 0.8191520572f,
0.8090170026f, 0.7986354828f, 0.7880107760f, 0.7771459222f,
0.7660444379f, 0.7547096014f, 0.7431448102f, 0.7313537002f,
0.7193397880f, 0.7071067691f, 0.6946583390f, 0.6819983721f,
0.6691305637f, 0.6560589671f, 0.6427876353f, 0.6293203831f,
0.6156614423f, 0.6018150449f, 0.5877852440f, 0.5735763907f,
0.5591928959f, 0.5446389914f, 0.5299192667f, 0.5150380731f,
0.4999999702f, 0.4848095775f, 0.4694715142f, 0.4539905190f,
0.4383711517f, 0.4226182401f, 0.4067366123f, 0.3907310665f,
0.3746065199f, 0.3583678603f, 0.3420201540f, 0.3255681396f,
0.3090169728f, 0.2923716605f, 0.2756372690f, 0.2588190734f,
0.2419219017f, 0.2249510437f, 0.2079116553f, 0.1908089370f,
0.1736481041f, 0.1564343721f, 0.1391731054f, 0.1218693256f,
0.1045284197f, 0.0871556848f, 0.0697563961f, 0.0523359738f,
0.0348994955f, 0.0174523834f, -0.0000000437f, -0.0174524710f,
-0.0348995812f, -0.0523360595f, -0.0697564781f, -0.0871557668f,
-0.1045285091f, -0.1218694076f, -0.1391731948f, -0.1564344466f,
-0.1736481935f, -0.1908090264f, -0.2079117447f, -0.2249511182f,
-0.2419219762f, -0.2588191628f, -0.2756373584f, -0.2923717499f,
-0.3090170324f, -0.3255682290f, -0.3420202434f, -0.3583679497f,
-0.3746066093f, -0.3907311559f, -0.4067367017f, -0.4226183295f,
-0.4383711219f, -0.4539906085f, -0.4694715738f, -0.4848097563f,
-0.5000000596f, -0.5150380135f, -0.5299193263f, -0.5446390510f,
-0.5591930151f, -0.5735764503f, -0.5877851844f, -0.6018151045f,
-0.6156614423f, -0.6293205023f, -0.6427876353f, -0.6560591459f,
-0.6691306829f, -0.6819983125f, -0.6946584582f, -0.7071067691f,
-0.7193399072f, -0.7313537598f, -0.7431449294f, -0.7547096610f,
-0.7660444379f, -0.7771460414f, -0.7880107760f, -0.7986356020f,
-0.8090170622f, -0.8191520572f, -0.8290376067f, -0.8386705518f,
-0.8480481505f, -0.8571673036f, -0.8660253882f, -0.8746197820f,
-0.8829475641f, -0.8910065889f, -0.8987940550f, -0.9063078761f,
-0.9135454893f, -0.9205048680f, -0.9271839261f, -0.9335804582f,
-0.9396926761f, -0.9455186129f, -0.9510565996f, -0.9563047886f,
-0.9612616897f, -0.9659258723f, -0.9702957273f, -0.9743701220f,
-0.9781476259f, -0.9816271663f, -0.9848077893f, -0.9876883626f,
-0.9902681112f, -0.9925461411f, -0.9945219159f, -0.9961947203f,
-0.9975640774f, -0.9986295700f, -0.9993908405f, -0.9998477101f,
-1.0000000000f, -0.9998477101f, -0.9993908405f, -0.9986295104f,
-0.9975640178f, -0.9961947203f, -0.9945218563f, -0.9925461411f,
-0.9902680516f, -0.9876883030f, -0.9848077297f, -0.9816271663f,
-0.9781475663f, -0.9743700624f, -0.9702956676f, -0.9659258127f,
-0.9612616301f, -0.9563047290f, -0.9510565400f, -0.9455185533f,
-0.9396926165f, -0.9335803986f, -0.9271838069f, -0.9205047488f,
-0.9135454297f, -0.9063078165f, -0.8987939954f, -0.8910065293f,
-0.8829475045f, -0.8746196628f, -0.8660252690f, -0.8571672440f,
-0.8480480909f, -0.8386704922f, -0.8290375471f, -0.8191519380f,
-0.8090169430f, -0.7986354828f, -0.7880106568f, -0.7771459222f,
-0.7660443187f, -0.7547095418f, -0.7431448102f, -0.7313536406f,
-0.7193397880f, -0.7071066499f, -0.6946583390f, -0.6819981933f,
-0.6691305041f, -0.6560590267f, -0.6427875161f, -0.6293203235f,
-0.6156615019f, -0.6018147469f, -0.5877850652f, -0.5735763311f,
-0.5591928959f, -0.5446391106f, -0.5299189687f, -0.5150378942f,
-0.4999999106f, -0.4848096073f, -0.4694716334f, -0.4539902210f,
-0.4383709729f, -0.4226181805f, -0.4067366421f, -0.3907312155f,
-0.3746063411f, -0.3583677709f, -0.3420200646f, -0.3255681694f,
-0.3090170920f, -0.2923714519f, -0.2756372094f, -0.2588189840f,
-0.2419219315f, -0.2249507159f, -0.2079114467f, -0.1908088475f,
-0.1736481339f, -0.1564345211f, -0.1391727775f, -0.1218691170f,
-0.1045283377f, -0.0871557146f, -0.0697565451f, -0.0523356497f,
-0.0348992869f, -0.0174522959f, 0.0000000119f, 0.0174523201f,
0.0348997861f, 0.0523361489f, 0.0697565675f, 0.0871557370f,
0.1045288369f, 0.1218696162f, 0.1391732693f, 0.1564345360f,
0.1736481488f, 0.1908093393f, 0.2079119384f, 0.2249512076f,
0.2419219464f, 0.2588190138f, 0.2756376863f, 0.2923719287f,
0.3090171218f, 0.3255681992f, 0.3420200944f, 0.3583682477f,
0.3746067882f, 0.3907312453f, 0.4067366719f, 0.4226181805f,
0.4383714199f, 0.4539906681f, 0.4694716632f, 0.4848096371f,
0.4999999106f, 0.5150383115f, 0.5299194455f, 0.5446391106f,
0.5591928959f, 0.5735767484f, 0.5877854824f, 0.6018151641f,
0.6156615019f, 0.6293203831f, 0.6427878737f, 0.6560592055f,
0.6691307425f, 0.6819983721f, 0.6946583390f, 0.7071070075f,
0.7193399668f, 0.7313538194f, 0.7431448698f, 0.7547095418f,
0.7660446167f, 0.7771461010f, 0.7880108356f, 0.7986355424f,
0.8090172410f, 0.8191522360f, 0.8290376663f, 0.8386706114f,
0.8480480909f, 0.8571674824f, 0.8660255671f, 0.8746197820f,
0.8829476237f, 0.8910065293f, 0.8987942338f, 0.9063078761f,
0.9135455489f, 0.9205048680f, 0.9271838665f, 0.9335805774f,
0.9396926761f, 0.9455186129f, 0.9510565400f, 0.9563047290f,
0.9612618089f, 0.9659258723f, 0.9702957869f, 0.9743700624f,
0.9781475663f, 0.9816272259f, 0.9848077893f, 0.9876883626f,
0.9902680516f, 0.9925462008f, 0.9945219159f, 0.9961947203f,
0.9975640774f, 0.9986295104f, 0.9993908405f, 0.9998477101f,
};

float   table_sin (int angle_in_degrees)
{
	while ( angle_in_degrees >= 360 )
		angle_in_degrees		-=	360;

	while ( angle_in_degrees < 0 )
		angle_in_degrees		+=	360;

	return							g_sinuses[angle_in_degrees];
}

float   table_cos (int angle_in_degrees)
{
	while ( angle_in_degrees >= 360 )
		angle_in_degrees		-=	360;

	while ( angle_in_degrees < 0 )
		angle_in_degrees		+=	360;

	return							g_cosinuses[angle_in_degrees];
}

} // namespace math
} // namespace xray
